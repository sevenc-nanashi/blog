<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>画像に対応させてみた - 名前のない日記｡</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="referrer" content="strict-origin"/><meta name="title" content="画像に対応させてみた - 名前のない日記｡"/><meta name="description" content="このブログの画像対応について。"/><meta name="theme-color" content="#48b0d5"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/26844078ec2cd946.css" as="style"/><link rel="stylesheet" href="/_next/static/css/26844078ec2cd946.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-df1ecbdd0458747a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c11d9f174451dce1.js" defer=""></script><script src="/_next/static/chunks/605040ef-28e4d8bd63739c66.js" defer=""></script><script src="/_next/static/chunks/pages/articles/image_test-9cef116a16d20996.js" defer=""></script><script src="/_next/static/SJhHvQlldjfxfvTNkoq3z/_buildManifest.js" defer=""></script><script src="/_next/static/SJhHvQlldjfxfvTNkoq3z/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="dark:bg-black"><div class="min-h-screen bg-theme-pale"><nav class="sticky flex items-center px-8 h-16 w-full flex-row bg-theme text-white shadow-[0_2px_4px_2px_rgb(0_0_0_/_0.1)]"><a class="text-xl font-bold" href="/">名前のない日記。</a><div class="ml-auto opacity-50 hover:opacity-100"><a href="https://github.com/sevenc-nanashi/blog" target="_blank" rel="noopener noreferrer">GitHub</a></div></nav><div class="flex flex-row p-8 justify-center h-full"><div class="flex justify-center items-center text-white lg:hidden fixed bottom-2 left-2 w-12 h-12 rounded-full bg-theme drop-shadow-2xl cursor-pointer"><svg fill="currentColor" class="___12fm75w f1w7gpdv fez10in fg4l7m0" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 16.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm4 .5H21a1 1 0 01.12 2H7.5a1 1 0 01-.12-2H21 7.5zm-4-6.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm4 .5H21a1 1 0 01.12 2H7.5a1 1 0 01-.12-2H21 7.5zm-4-6.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm4 .5H21a1 1 0 01.12 2H7.5a1 1 0 01-.12-2H21 7.5z" fill="currentColor"></path></svg></div><nav class="lg:min-w-[20%] lg:w-max w-screen h-screen lg:h-auto lg:min-h-full drop-shadow-xl lg:drop-shadow-none t-0 fixed lg:relative -translate-y-24 lg:-translate-y-0 pointer-events-none lg:pointer-events-auto transition-transform -translate-x-full lg:translate-x-0 false"><div class="lg:sticky w-full h-max top-8"><div class="flex flex-col content-bg rounded-r lg:rounded p-4 h-full lg:h-max fixed lg:relative top-0 left-0 -translate-x-full lg:translate-x-0 shadow-md lg:shadow-sm"><ul class="pl-4 lg:pl-0"><li class="text-theme text-2xl lg:text-xl font-bold"><a href="/articles/image_test/#root">目次</a></li><li class="text-lg"><a class="hover:text-theme" href="/articles/image_test/#%E7%94%BB%E5%83%8F%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B">画像を表示する</a></li><li class="text-lg"><a class="hover:text-theme" href="/articles/image_test/#%E6%8A%80%E8%A1%93%E7%9A%84%E3%81%AA%E8%A9%B1">技術的な話</a></li><li class="text-lg"><a class="hover:text-theme" href="/articles/image_test/#%E3%81%8A%E3%82%8F%E3%82%8A">おわり</a></li></ul></div></div></nav><main class="p-6 flex-grow content-bg rounded xl:mx-8 lg:ml-8"><h1 id="root" class="mb-2 pb-2 border-b-2">画像に対応させてみた</h1><article><p>２つ目の記事。<s>記事を書くとGitHubのコントリビューションも溜まるのいいな</s><br/>というわけでこのブログを画像に対応させてみた。</p><a class="no-color" href="/articles/image_test/#%E7%94%BB%E5%83%8F%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B"><h2 id="画像を表示する" class="heading">画像を表示する</h2></a><p><img src="./image.png" alt="画像"/></p><div class="code" aria-live="polite"><pre class="language-markdown">![画像](./image.png)
</pre></div><p>で画像が表示できるようになった。<br/>そのうちクリックで拡大表示も実装してみたい。</p><a class="no-color" href="/articles/image_test/#%E6%8A%80%E8%A1%93%E7%9A%84%E3%81%AA%E8%A9%B1"><h2 id="技術的な話" class="heading">技術的な話</h2></a><p>せっかくなら<code>/pages/articles/記事名/画像.png</code>みたいに置くようにしたかったが、pagesの中に画像を入れるとバグるので断念。</p><div class="code" aria-live="polite"><pre class="language-yaml">blog:
  pages:
    app.tsx
    index.tsx
    articles:
      image_test.md
      ...
  public:
    ...
    articles:
      image_test:
        image.png
</pre></div><p>のような変な構造になってしまった。そのうち改善するかもしれないししないかも知れない。</p><p>画像のURLを<code>./image.png</code>のようにすると、<code>/articles/image.png</code>と認識してしまったので<code>next.config.js</code>の<code>trailingSlash</code>を有効にした。</p><p>画像が大きすぎるとすごいことになるのでarticle.scssにて</p><div class="code" aria-live="polite"><pre class="language-scss">  img {
    @apply max-h-96;
  }
</pre></div><p>のように防いでいる。</p><a class="no-color" href="/articles/image_test/#%E3%81%8A%E3%82%8F%E3%82%8A"><h2 id="おわり" class="heading">おわり</h2></a><p>内容薄すぎて草<br/>おわり。</p></article></main><div class="w-1/5 hidden xl:block"></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"markdoc":{"content":{"$$mdtype":"Tag","name":"article","attributes":{},"children":[{"$$mdtype":"Tag","name":"p","attributes":{},"children":["２つ目の記事。",{"$$mdtype":"Tag","name":"s","attributes":{},"children":["記事を書くとGitHubのコントリビューションも溜まるのいいな"]},{"$$mdtype":"Tag","name":"br","attributes":{},"children":[]},"というわけでこのブログを画像に対応させてみた。"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"画像を表示する"},"children":["画像を表示する"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":[{"$$mdtype":"Tag","name":"img","attributes":{"src":"./image.png","alt":"画像"},"children":[]}]},{"$$mdtype":"Tag","name":"Fence","attributes":{"content":"![画像](./image.png)\n","language":"markdown"},"children":["![画像](./image.png)\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["で画像が表示できるようになった。",{"$$mdtype":"Tag","name":"br","attributes":{},"children":[]},"そのうちクリックで拡大表示も実装してみたい。"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"技術的な話"},"children":["技術的な話"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["せっかくなら",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["/pages/articles/記事名/画像.png"]},"みたいに置くようにしたかったが、pagesの中に画像を入れるとバグるので断念。"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"content":"blog:\n  pages:\n    app.tsx\n    index.tsx\n    articles:\n      image_test.md\n      ...\n  public:\n    ...\n    articles:\n      image_test:\n        image.png\n","language":"yaml"},"children":["blog:\n  pages:\n    app.tsx\n    index.tsx\n    articles:\n      image_test.md\n      ...\n  public:\n    ...\n    articles:\n      image_test:\n        image.png\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["のような変な構造になってしまった。そのうち改善するかもしれないししないかも知れない。"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["画像のURLを",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["./image.png"]},"のようにすると、",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["/articles/image.png"]},"と認識してしまったので",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["next.config.js"]},"の",{"$$mdtype":"Tag","name":"code","attributes":{},"children":["trailingSlash"]},"を有効にした。"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["画像が大きすぎるとすごいことになるのでarticle.scssにて"]},{"$$mdtype":"Tag","name":"Fence","attributes":{"content":"  img {\n    @apply max-h-96;\n  }\n","language":"scss"},"children":["  img {\n    @apply max-h-96;\n  }\n"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["のように防いでいる。"]},{"$$mdtype":"Tag","name":"Heading","attributes":{"level":2,"id":"おわり"},"children":["おわり"]},{"$$mdtype":"Tag","name":"p","attributes":{},"children":["内容薄すぎて草",{"$$mdtype":"Tag","name":"br","attributes":{},"children":[]},"おわり。"]}]},"frontmatter":{"title":"画像に対応させてみた","summary":"このブログの画像対応について。","tags":["Next.js","Markdoc"]},"file":{"path":"/articles/image_test.md"}}},"__N_SSG":true},"page":"/articles/image_test","query":{},"buildId":"SJhHvQlldjfxfvTNkoq3z","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>